Witching NWN1 - A Witcher area conversion project for NWN1
http://forum.bioware.com/topic/556703-witching-nwn1-a-witcher-area-conversion-project-for-nwn1/
TheOneBlackRider June 2016

General notes:
This is a port of original area meshes from the game "The Witcher 1 - TW1" by CD Project. Special thanks go out to Michael Dark Angel / MDA, who made this possible! 

The porting is quiet tricky, since the areas in TW1 are designed in one huge piece and I had to cut out wanted parts out of this mesh to make them fit into the NWN1 tile system. In addition to this, CD Project did not design the objects one after another (eg. house 1, house 2, ...). Meshes were extending over a wider area (eg. house 1, 2 and 3 shared many meshes), so I had to separate them, too.

Warning: CD Project used a much higher polygon count than standard NWN1 models have! So this set might be slow on older machines. Though I created simple shadow meshes for many objects (see below), some tiles (eg. the palisades of the tavern group) may draw heavily on the NWN1-engine. Consider turning them off.

The base tile set is a (very) stripped down version of the NWN1 TNO (= "Castle Exterior, Rural") tile set. It appears a "[TW1] Rural" (all the way to the bottom of the tile set list). 

Many of these terrain models have been edited, eg. to work in the cobble road.

I edited the terrain part of the ITP-file, too (eg. renaming [Eraser], [Raise/Lower], ...).

Nearly all tiles have been run through OldMansBeard's "Clean Models 3" at some point. Just a note: Sanity checks kept on failing - even after a CM. I did not find the time to get these "sanity issues" fixed... So in all converted Witcher meshes, sanity checks have been ignored! They do work in the toolset / IG and I didn't encounter any crashes.

Now, this also may not be to everybody's liking, but I decided to (re-) name the original terrain models to "ter01_..." and called my Witcher additions "twr01_..." to keep it separated for me, to have more freedom to name my Witcher models and keep track of what they are (eg. all tavern models start with twr01_t..., the rural houses wit twr01_h..., the outskirt houses with twr01_o, the features with twr01_f...). So you have ter01 and twr01 models in one HAK, even though they belong to one set.

When porting the models, I tried to also use the original shape of the terrain, if possible. The tavern area, for example, completely uses the original terrain. Some of the features still have it.

Textures:
Nearly all textures are the original ones (converted to TGA, since the TW1-DDS format was not the NWN1 format). Some textures have been altered, but are based on the TW1 textures. These are named tw1_[name]. Very few, I created myself, eg. the "bottom" texture of the wells. The cobble texture has been hand edited to be seamless regardless of its rotation. Otherwise it would not have been working with the road tiles. 

Doors:
Doors are created with the features/groups via the doortypes.2da. 
I used the doortypes.2da from the "Dragonlance Chronicles Reborn" project, so it includes entries of other tilesets, too: CEP(2.3), CRAP, Worm, all Zwerkules-tilesets and DLCR-entries. I contacted Zwerkules and we agreed to start with entry 1480 to not get into conflict with future creations of him. So, TW1 uses entries 1481-1488 (ATM).

Another decision, I made, is to let doors only open to one side. IMO it looks better (especially regarding the tavern group gates). A draw back is, that eg. gates might open through the character.

200x300 is considered the standard NWN1-door size. Since these are complete (scaled) models, the doors don't match the NWN1 norm. Some are even too small for a normal sized character (eg. the barn doors of the "House - Rural 3a"). They are usable, but I suggest to lock them or block them, so normal sized characters can't enter. (See additional manual for more information!)

The genericdoors.2da is still included. It's based on HOTU and also includes Witcher 1 door entries. But it's not really in use, because now the doors are placed via the group. I used it for testing door positions and sizes.

Shadow meshes: 
I created extra (simple) shadow meshes, because the higher polycount of the rendered model meshes tended to crash NWN1. So, shadows do work, but some may not look perfect.  
I suggest to use only a very slight/light amount of shadow casting.
(Remark: Wagon-Features don't cast shadows (yet).)

Walkmesh of the tavern group:
I partly used the original walkmesh. Now, the tweaked Aurora engine of Witcher 1 can handle walkmeshes, which are made of several (sub-) meshes, which are not connected. For example did they create a ground walkmesh for the area and added upright planes around obstacles like the well. These upright planes don't share vertices/edges with the ground mesh. They just sit on top! Well, I found, that this also works with the NWN1-engine and since recreating the walkmesh is pretty time consuming, I left it that way for some obstacles in the tavern area. All other groups/features have recreated "standard" NWN1 walkmeshes, though!

Large patch meshes (no tile size):
Cobble/dirt patches in the tavern (and church) area: Since the ground mesh is very uneven, I decided to create large patch meshes based on the grass mesh. To have better control regarding the position and texturing - in case of later edits (which happened a lot while trying to mock the mixed ground textures CD Project created in the Witcher 1 game) -, this mesh has not been sliced! In case of the tavern group, the patch-meshes are linked to twr01_t01_09.
(Additional notice: Now, this technique lead to the fact, that the patches have not been rendered while creating the minimaps - see "Issues" below.)

Broad road feature: 
The NWN1 tile roads are narrow and the house groups could not directly connect to the (cobble-) road. So I created tile sized road features in two variants: One is tile sized and the alternatives have (dirt-) patches exceeding the tile boundary. When placed next to each other, the overlapping version hides the tile look a bit, thus (again) tries to mock the mixed ground textures CD Project created in the Witcher 1 game. 
Variants are cobble to one and two sides and dirt to one and two sides.
(See additional manual on how to make use of them!)


Small stones/rocks:
ATM, the places, where there are those flat stones/rocks are not walkable! I just didn't find the time to adjust the walkmesh accordingly = a raised mesh over the stones. Maybe it will be done in some later release.

Release 1:
Whyzima Outskirts meshes
I got a bit carried away from my original plans... I now have nearly everything converted from that area, that I wanted to have for a second release:
- all houses (rural and stone ones)
- the Tavern area
- all available wells in that area + a floor variation (dirt-grass / cobble) for one = 4
- all sheds = 4
- all wagons = 5
- the birdhouse
- the haystack 
- the storage mount + an additional variation = 2
- as a special, I separated the open air smithy of the tavern area and made that available as a single feature.

I also managed to include minimaps (which was not planned for the first release) - thanks to Asymmetric/Symmetric for updating this tool, so it works with shadow meshes.

Also included are "placeholder groups" of the tavern without palisades and rural houses. They will be arranged in an alternative angle, but they are not finished, yet, and thus not included. 


In case, somebody looks into the models:

The tavern area is a bit of a mess - naming wise. This is due to the fact, that I started with this group to get it into NWN1. Sometimes I found, that something would not work, after naming meshes accordingly. In the beginning, NWN1 crashed due to the complexity of the Witcher 1 meshes in addition with the property to cast a shadow.

cp_ = A copy of a mesh, which does NOT cast shadows.
shd_ = Originally a mesh, which was supposed to cast a shadow. Now, only the palisades are meshes with this prefix, which cast a shadow. All other meshes with shd_ do not. I created separate (more simple) shadow meshes for them:
shd_tav_... are pure shadow meshes for the tavern area. 
shadow_... are pure shadow meshes for other parts of the tavern area.

As mentioned above: walkmesh = partly original = planes up right - seperate faces -> works!


------------------------

Issues in R1:
Pathnodes: ATM all set to "A".
Day/night: I started to experiment with Self Illuminating faces, but it just didn't look well (regarding what I was able to accomplish). So, illuminated windows will be in another release.

Minimaps: Though I managed to find the time to create minimaps via Blender (thanks to Asymmetric/Symmetric for updating his Minimap Creator - http://neverwintervault.org/project/nwn1/other/tool/neverblender-blender-269-27x), not all maps are perfect:
As written above, some of the dirt / cobble patches are not tile sized to have better control, when adjusting them. So they are not tile sliced and only connect to one tile of that group. Result is, that they are not rendered for certain map parts (eg. tavern yard, church yard). So, I created special models for those. This way, the tavern and church yard have at least some patches in their minimaps.

Shadows: I tried to fix many findings, but sometimes my edits didn't make a difference... So there shouldn't be many of them, but there might be a few strange looking ones.

The wagon-features don't cast shadows (yet).

------------------------

Thanks to all out there, who supported me with their knowledge and encouragement!


